server {
    listen 80;
    server_name localhost;

    # Serve Angular app at /front
    # Note: trailing slashes are important!
    location /front/ {
        alias /usr/share/nginx/html/front/;
        # First try to serve the file ($uri)
        # Then try to serve the folder ($uri/)
        # If neither exists, fallback to index.html (Angular handles routing)
        try_files $uri $uri/ /front/index.html;
        index index.html;
    }

    # Handle exact /front (without trailing slash) - redirect to /front/
    location = /front {
        return 301 /front/;
    }

    # Health check endpoint
    location /health {
        return 200 'OK';
        add_header Content-Type text/plain;
    }
}

